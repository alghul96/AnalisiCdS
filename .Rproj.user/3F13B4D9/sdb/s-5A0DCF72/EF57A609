{
    "collab_server" : "",
    "contents" : "library(epicalc)\nlibrary(survival)\n\n\n###########################\n#### OVERALL SURVIVAL #####\n\n\n# Creazione dell'oggetto survivial\nuse(survival)\n\n\nmsurv<- Surv(`OVERALL SURVIVAL (mesi)`, Morto == 1)\n\nmfit <- survfit((msurv)~1)\noptions(survfit.print.mean = TRUE)\nmy.fit = summary(mfit)\n\n#### PLOT DELLA CURVA DELLA SOPRAVVIVENZA ####\n\nplot(mfit, main = \"Funzione di sopravvivenza\", xlab = \"Mesi dall'operazione\")\n\n\n### STIMA DELLA CUMULATIVE HAZARD FUNCTION ####\n\nplot(mfit, fun=\"cumhaz\", main = \"Funzione cumulativa del Rischio (-logS(t))\") # funzione cumulativa di azardo \n\n\n#### ANALISI DELLE COVARIATE: LNR ####\n\n#### Analisi della sopravvivenza\n\nmfit.LNR = survfit(msurv ~ survival$`LNR CLASSE`)\n\nmfit.LNR\n\npar(mfrow = c(1,2))\nplot(mfit.LNR, conf.int = FALSE, col = c(\"red\", \"green\", \"blue\"), main = \"Sopravvivenza per LNR\")\nplot(mfit.LNR, conf.int = TRUE, col = c(\"red\", \"green\", \"blue\"))\nlegend(\"topright\", legend = c(\"Classe 0\",\"Classe 1\", \"Classe 2\"), col = c(\"red\", \"green\", \"blue\"), lty = c(1,1,1))\n\n#### Log Rank test\n\nsurvdiff(msurv ~ survival$`LNR CLASSE`, rho = 0) # rifiutiamo l'hp che le curve di sopravvivenza sono uguali\n\n\n\n#### ANALISI DELLE COVARIATE: LODDS ####\n\n#### Analisi della sopravvivenza\n\nmfit.LODDS = survfit(msurv ~ survival$`LODDS CLASSE`)\n\nmfit.LODDS\n\npar(mfrow = c(1,2))\nplot(mfit.LODDS, conf.int = FALSE, col = c(\"red\", \"green\", \"blue\"), main = \"Sopravvivenza per LODDS\")\nplot(mfit.LODDS, conf.int = TRUE, col = c(\"red\", \"green\", \"blue\"))\nlegend(\"topright\", legend = c(\"Classe 0\",\"Classe 1\", \"Classe 2\"), col = c(\"red\", \"green\", \"blue\"), lty = c(1,1,1))\n\n#### Log Rank test\n\nsurvdiff(msurv ~ survival$`LODDS CLASSE`, rho = 0) # rifiutiamo l'hp che le curve di sopravvivenza sono uguali\n\n\n# Confronto tra le due curve\n\npar(mfrow = c(1,2))\nplot(mfit.LODDS, conf.int = FALSE, col = c(\"red\", \"green\", \"blue\"), main = \"Sopravvivenza per LODDS\")\nplot(mfit.LNR, conf.int = FALSE, col = c(\"red\", \"green\", \"blue\"), main = \"Sopravvivenza per LNR\")\n\n# Kaplanâ€“Meier survival curves of the patients staged by log odds of positive lymph nodes (LODDS) and lymph node ratio.\n\n################################\n#### DISEASE-FREE SURVIVAL #####\n\n\ndisurv<- Surv(`DISEASE- FREE SURVIVAL (mesi)`, Morto == 1)\n\ndifit <- survfit((disurv)~1)\noptions(survfit.print.mean = TRUE)\nmy.fit = summary(difit)\n\n#### PLOT DELLA CURVA DELLA SOPRAVVIVENZA ####\n\nplot(difit, main = \"Funzione di sopravvivenza Disease-Free\", xlab = \"Mesi dall'operazione\")\n\n\n### STIMA DELLA CUMULATIVE HAZARD FUNCTION ####\n\nplot(difit, fun=\"cumhaz\", main = \"Funzione cumulativa del Rischio (-logS(t))\") # funzione cumulativa di azardo \n\n\n#### ANALISI DELLE COVARIATE: LNR ####\n\n#### Analisi della sopravvivenza\n\ndifit.LNR = survfit(disurv ~ survival$`LNR CLASSE`)\n\ndifit.LNR\n\npar(mfrow = c(1,2))\nplot(difit.LNR, conf.int = FALSE, col = c(\"red\", \"green\", \"blue\"), main = \"Disease-Free per LNR\")\nplot(difit.LNR, conf.int = TRUE, col = c(\"red\", \"green\", \"blue\"))\nlegend(\"topright\", legend = c(\"Classe 0\",\"Classe 1\", \"Classe 2\"), col = c(\"red\", \"green\", \"blue\"), lty = c(1,1,1))\n\n#### Log Rank test\n\nsurvdiff(disurv ~ survival$`LNR CLASSE`, rho = 0) # rifiutiamo l'hp che le curve di sopravvivenza sono uguali\n\n\n\n#### ANALISI DELLE COVARIATE: LODDS ####\n\n#### Analisi della sopravvivenza\n\ndifit.LODDS = survfit(disurv ~ survival$`LODDS CLASSE`)\n\ndifit.LODDS\n\npar(mfrow = c(1,2))\nplot(difit.LODDS, conf.int = FALSE, col = c(\"red\", \"green\", \"blue\"), main = \"Disease-Free per LODDS\")\nplot(difit.LODDS, conf.int = TRUE, col = c(\"red\", \"green\", \"blue\"))\nlegend(\"topright\", legend = c(\"Classe 0\",\"Classe 1\", \"Classe 2\"), col = c(\"red\", \"green\", \"blue\"), lty = c(1,1,1))\n\n#### Log Rank test\n\nsurvdiff(disurv ~ survival$`LODDS CLASSE`, rho = 0) # rifiutiamo l'hp che le curve di sopravvivenza sono uguali\n\n\n######################################################\n### CONFRONTO TRA DISEASE FREE E OVERALL SURVIVAL ####\n\n\nwindows()\npar(mfrow = c(2,2))\n\nplot(mfit.LNR, conf.int = FALSE, col = c(\"red\", \"green\", \"blue\"), main = \"Sopravvivenza Totale per LNR\")\nplot(difit.LNR, conf.int = FALSE, col = c(\"red\", \"green\", \"blue\"), main = \"Sopravvivenza Disease Free per LNR\")\nlegend(\"topright\", legend = c(\"Classe 0\",\"Classe 1\", \"Classe 2\"), col = c(\"red\", \"green\", \"blue\"), lty = c(1,1,1))\n\n\nplot(mfit.LODDS, conf.int = FALSE, col = c(\"red\", \"green\", \"blue\"), main = \"Sopravvivenza Totale per LODDS\")\nplot(difit.LODDS, conf.int = FALSE, col = c(\"red\", \"green\", \"blue\"), main = \"Sopravvivenza Disease Free per LODDS\")\nlegend(\"topright\", legend = c(\"Classe 0\",\"Classe 1\", \"Classe 2\"), col = c(\"red\", \"green\", \"blue\"), lty = c(1,1,1))\n\n",
    "created" : 1493797175897.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2570580780",
    "id" : "EF57A609",
    "lastKnownWriteTime" : 1493814045,
    "last_content_update" : 1493814045476,
    "path" : "~/GitHub/AnalisiCdS/nonParametrica.R",
    "project_path" : "nonParametrica.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}