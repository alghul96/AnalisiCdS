{
    "collab_server" : "",
    "contents" : "# Importazione delle librerie\nlibrary(epicalc)\nlibrary(survival)\n\n\n# Plot della log minus log, per vedere l'hp di rischi proporzionali\n\nautoplot(\n  mfit.LNR,\n  fun = \"cloglog\",\n  col = c(\"red\", \"green\", \"blue\"),\n  #ylim = c(-2, 1),\n  conf.int = FALSE\n)\n\nautoplot(\n  mfit.LODDS,\n  fun = \"cloglog\",\n  col = c(\"red\", \"green\", \"blue\"),\n  #ylim = c(-2, 1),\n  conf.int = FALSE\n)\n\n# Vediamo che l'ipotesi di rischi proporzionali sembra non essere rispettata\n\n# recoding delle variabili\n\nmodeldata = as.data.frame(rep(0, 202))\n\nmodeldata[, \"Asa\"] = factor(survival$ASA)\nmodeldata[,\"nLinf12\"] = factor(survival$`>12`)\nmodeldata[, \"stadio\"] = factor(survival$STADIO)\nmodeldata[, \"ricN\"] = factor(survival$Ric_N)\nmodeldata[, \"LNR\"] = factor(survival$`LNR CLASSE`)\nmodeldata[, \"LODDS\"] = factor(survival$`LODDS CLASSE`)\nmodeldata = modeldata[,-1]\nstr(modeldata)\n\nuse(modeldata)\n\n\n#### MODELLI UNIVARIATI ####\n\nsummary(coxph(msurv ~ LNR))\n\n# Come già visto, il coefficiente riferito alla classe 1 di LNR non è significativo.\n# Il coefficiente relativo alla classe 2, invece, risulta essere significativo. L'hazard ratio risulta essere, infatti, di 3.055\n# con valori che oscillano tra 1.89 e 4.9 con intervalli di confidenza del 95%\n\nsummary(coxph(msurv ~ LODDS))\n\n# Situazione analoga per LODDS. La prima classe non risulta significativa pe run intervallo di confidenza del 95%.\n# La classe 2, invece, è significativa, con un HR di 3.8, con intervalli di confidenza al 95% che oscillano\n# da 2.257 a 6.396\n\n\n\n#### Modello di Cox multivariato  ####\n\nmodel0 = coxph(msurv ~ Asa + nLinf12 + stadio + ricN + LNR + LODDS)\nsummary(model0)\n\nsummary(coxph(msurv ~ Asa + nLinf12 + stadio + LNR))\n\n##### NUOVI MODELLI ####\n\nmodel0 = coxph(msurv ~ Asa)\nsummary(model0)\n\n\n\n\nplot(resid(model0, \"scaledsch\"))\ncox.zph(model0)\n\n# Valutando la significatività\n\nsummary(coxph(msurv ~ ricN + LNR))\n\nsummary(coxph(msurv ~ LODDS + LNR))\nsummary(coxph(msurv ~ LNR + LODDS))\n\nxtabs( ~ LNR + LODDS + ricN)\n\nsummary(co)",
    "created" : 1493814244046.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1245640669",
    "id" : "47C3A837",
    "lastKnownWriteTime" : 1493979603,
    "last_content_update" : 1493979603719,
    "path" : "~/GitHub/AnalisiCdS/coxmodels.R",
    "project_path" : "coxmodels.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}