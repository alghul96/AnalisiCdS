library(epicalc)
?Foreign
??foreign
setwd("~/GitHub/AnalisiCdS")
Dataset <- read.dta("renal_failure.dta")
use(Dataset)
des()
str()
str(Dataset)
View(Dataset)
ren_fail <- factor (ren_fail, labels = c("ren.fail absent ", "ren.fail present"))
diabetes <- factor (diabetes, labels = c("diabetes absent", "diabetes present"))
diabetes
View(Dataset)
ren_fail
table0.pyears <-sum(p_years)
table0.pyears
table0.ric <- sum(cv_hosp)
View(Dataset)
table0.ric <- sum(cv_hosp)
table0.inc1000 <- table0.ric/table0.pyears*1000; table0.inc1000
model0 <- glm(cv_hosp~1, offset=log(p_years), family=poisson)
coeff <- t(t(coef(model0))); coeff
summary(model0)
coeff.95ci <- cbind(coeff, t(confint(model0)))
coeff.95ci
IDR.95ci <- round(exp(coeff.95ci),3)*1000;IDR.95ci
table1.inc1000 <- table1.ric/table1.pyears*1000;table1.inc1000
# estimate incidence rate for each level of  ren.fail
table1.pyears <-tapply(p_years, list( ren_fail), sum)
table1.ric <- tapply(cv_hosp, list(ren_fail), sum)
table1.inc1000 <- table1.ric/table1.pyears*1000;table1.inc1000
table1.ric
table1.pyears
?tapply
list( ren_fail)
cv_hosp
list(ren_fail)
table1.inc1000
model1<-glm(cv_hosp ~ ren_fail, offset=log(p_years), family=poisson)
summary(model1)
raterenfabs = exp(-3.66996) * 1000
raterenfabs
raterenfpres = exp(-3.66996 + 1.26903) * 1000
raterenfabs
raterenfpres
idr.display(model1)
